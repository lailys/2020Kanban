{"ast":null,"code":"import _classCallCheck from\"/Users/lailysarvarian/a-kanban/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lailysarvarian/a-kanban/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/lailysarvarian/a-kanban/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/lailysarvarian/a-kanban/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import opensocket from\"socket.io-client\";import moment from\"moment\";var Task=/*#__PURE__*/function(_Component){_inherits(Task,_Component);var _super=_createSuper(Task);function Task(){var _this;_classCallCheck(this,Task);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={members:[],deadline:\"\",display:\"none\"};_this.componentDidMount=function(){console.log(_this.props.task,\"+++++++++++\");var socket=opensocket(\"http://localhost:8080\");_this.fetchMembers();_this.setState({deadline:!_this.props.task.deadline?\"\":moment(_this.props.task.deadline).format(\"MMMM Do YYYY, HH:mm a \")});socket.on(\"taskMember\",function(data){if(data.action===\"create\"){_this.fetchMembers();}});};_this.fetchMembers=function(){fetch(\"/task-members/\".concat(_this.props.task._id),{headers:{Authorization:\"Bearer \"}}).then(function(res){return res.json();}).then(function(result){_this.setState({members:result.members});});};_this.imgRender=function(){var all=[];for(var i=0;i<_this.state.members.length;i++){var style={position:\"absolute\",left:\"\".concat(i*2,\"vh\"),bottom:\".3vmin\",color:\"white\"};if(_this.state.members[i].pic){style.backgroundImage=\"url(\\\"/\".concat(_this.state.members[i].pic,\"\\\")\");}else{style.backgroundImage=\"none\";style.backgroundColor=_this.state.members[i].color;style.color=\"white\";}console.log(_this.state.members[i].pic,\"this.state.members[i].pic\",style);if(style.backgroundImage!==\"#5f5f64b0\"){all.push(/*#__PURE__*/React.createElement(\"div\",{key:\"img-\".concat(i),className:\"task-img\",style:style},!_this.state.members[i].pic?\"\".concat(_this.state.members[i].name.split(\" \")[0][0]).concat(_this.state.members[i].name.split(\" \")[1][0]):\"\"));}else{all.push(/*#__PURE__*/React.createElement(\"div\",{key:\"img-\".concat(i),className:\"task-img\",style:style},/*#__PURE__*/React.createElement(\"div\",null,!_this.state.members[i].pic?\"\".concat(_this.state.members[i].name.split(\" \")[0][0]).concat(_this.state.members[i].name.split(\" \")[1][0]):\"\")));}}return/*#__PURE__*/React.createElement(\"div\",{className:\"members-container-user-page\"},all);};_this.renderRemove=function(){return _this.props.token?/*#__PURE__*/React.createElement(\"span\",{id:\"user-page-span\",onClick:function onClick(e){return _this.props.removeTask(e,_this.props.task.team,_this.props.task._id,_this.props.task.stage,_this.props.position);}},\"-\"):/*#__PURE__*/React.createElement(\"span\",null);};_this.displayModal=function(e){_this.state.display===\"flex\"?_this.setState({display:\"none\"}):_this.setState({display:\"flex\"});};_this.removeTask=function(e){if(_this.props.token){fetch(\"http://localhost:8080/tasks/\".concat(_this.props.id),{method:\"DELETE\",headers:{Authorization:\"Bearer \"+_this.props.token,\"Content-Type\":\"application/json\"},body:JSON.stringify({user:localStorage.getItem(\"userId\"),team:_this.props.task.team,task:_this.props.id,stage:_this.props.task.stage,i:_this.props.position})}).then(function(result){return result.json();}).then(function(res){if(!res.done){alert(res.message);}});}else{_this.props.history.push(\"/login\");}};return _this;}_createClass(Task,[{key:\"render\",value:function render(){var _this2=this;var style={};if(this.props.location1===\"top\"){style.opacity=this.props.opacity;style.marginBottom=\".3vh\";style.marginLeft=\".1vw\";style.width=\"20vw\";// style.minHeight = \"16vh\";\nstyle.height=\"26%\";}else{style.margin=\"0 .5vh\";style.width=\"20%\";style.height=\"80%\";}return/*#__PURE__*/ (// this.props.page!==\"teamPage\"? (\nReact.createElement(\"div\",{className:\"task-cube-user-page\",id:\"id-\".concat(this.props.id,\"+\").concat(this.props.position),style:style,index:\"yes\"},/*#__PURE__*/React.createElement(\"div\",{className:\"task-cube-priority\",onClick:function onClick(e){return _this2.displayModal(e);},style:{backgroundColor:this.props.task.priority}}),/*#__PURE__*/React.createElement(\"div\",{className:\"task-title-user-page\"},this.props.task.title.toUpperCase()),/*#__PURE__*/React.createElement(\"div\",{className:\"task-cube-middle-user-page\"},/*#__PURE__*/React.createElement(Link,{id:\"link\",className:\"fas fa-question\",to:\"/\".concat(this.props.team.title,\"/\").concat(this.props.task._id)}),/*#__PURE__*/React.createElement(\"div\",{className:\"member-count\"},/*#__PURE__*/React.createElement(\"div\",{className:\"member-sign\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-friends\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"count\"},this.props.task.responders.length)),/*#__PURE__*/React.createElement(\"div\",{className:\"deadline\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-clock\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"time\"},this.state.deadline===\"invalid date\"?\"\":this.state.deadline))),this.imgRender(),this.props.user._id===this.props.userId?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-content\",style:{backgroundColor:this.props.task.priority,color:\"white\",display:this.state.display}},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(e){return _this2.displayModal(e);},className:\"close\",style:{backgroundColor:this.props.task.priority}},\"\\xD7\"),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-text\"},\"Are you sure you want to delete?\"),/*#__PURE__*/React.createElement(\"div\",{id:\"task-page-remove-task\",onClick:function onClick(e){return _this2.removeTask(e);},style:{color:this.props.task.priority}},\"-\")):/*#__PURE__*/React.createElement(\"div\",{style:{background:\"none\"}})));}}]);return Task;}(Component);export default Task;","map":{"version":3,"sources":["/Users/lailysarvarian/a-kanban/client/src/components/Task.js"],"names":["React","Component","Link","opensocket","moment","Task","state","members","deadline","display","componentDidMount","console","log","props","task","socket","fetchMembers","setState","format","on","data","action","fetch","_id","headers","Authorization","then","res","json","result","imgRender","all","i","length","style","position","left","bottom","color","pic","backgroundImage","backgroundColor","push","name","split","renderRemove","token","e","removeTask","team","stage","displayModal","id","method","body","JSON","stringify","user","localStorage","getItem","done","alert","message","history","location1","opacity","marginBottom","marginLeft","width","height","margin","priority","title","toUpperCase","responders","userId","background"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport opensocket from \"socket.io-client\";\nimport moment from \"moment\";\n\nclass Task extends Component {\n  state = {\n    members: [],\n    deadline: \"\",\n    display: \"none\",\n  };\n  componentDidMount = () => {\n    console.log(this.props.task,\"+++++++++++\")\n    const socket = opensocket(\"http://localhost:8080\");\n    this.fetchMembers();\n    this.setState({\n      deadline: !this.props.task.deadline\n        ? \"\"\n        : moment(this.props.task.deadline).format(\"MMMM Do YYYY, HH:mm a \"),\n    });\n    socket.on(\"taskMember\", (data) => {\n      if (data.action === \"create\") {\n        this.fetchMembers();\n      }\n    });\n  };\n  fetchMembers = () => {\n    fetch(`/task-members/${this.props.task._id}`, {\n      headers: {\n        Authorization: \"Bearer \",\n      },\n    })\n      .then((res) => {\n        return res.json();\n      })\n      .then((result) => {\n        this.setState({ members: result.members });\n      });\n  };\n  imgRender = () => {\n    let all = [];\n\n    for (let i = 0; i < this.state.members.length; i++) {\n      const style = {\n        position: \"absolute\",\n        left: `${i * 2}vh`,\n        bottom: \".3vmin\",\n        color:\"white\"\n      };\n      \n      if (this.state.members[i].pic) {\n        style.backgroundImage = `url(\"/${this.state.members[i].pic}\")`;\n      } else {\n        style.backgroundImage = \"none\";\n        style.backgroundColor = this.state.members[i].color;\n        style.color = \"white\";\n      }\n      console.log(this.state.members[i].pic,\"this.state.members[i].pic\",style)\n      if (style.backgroundImage !== \"#5f5f64b0\") {\n        all.push(\n          <div key={`img-${i}`} className=\"task-img\" style={style}>\n            \n            {!this.state.members[i].pic\n              ? `${this.state.members[i].name.split(\" \")[0][0]}${\n                  this.state.members[i].name.split(\" \")[1][0]\n                }`\n              : \"\"}\n          </div>\n        );\n      } else {\n        all.push(\n          <div key={`img-${i}`} className=\"task-img\" style={style}>\n            <div>\n              \n              {!this.state.members[i].pic\n                ? `${this.state.members[i].name.split(\" \")[0][0]}${\n                    this.state.members[i].name.split(\" \")[1][0]\n                  }`\n                : \"\"}\n            </div>\n          </div>\n        );\n      }\n    }\n    return <div className=\"members-container-user-page\">{all}</div>;\n  };\n  renderRemove = () => {\n    return this.props.token ? (\n      <span\n        id=\"user-page-span\"\n        onClick={(e) =>\n          this.props.removeTask(\n            e,\n            this.props.task.team,\n            this.props.task._id,\n            this.props.task.stage,\n            this.props.position\n          )\n        }\n      >\n        -\n      </span>\n    ) : (\n      <span></span>\n    );\n  };\n  displayModal = (e) => {\n    this.state.display === \"flex\"\n      ? this.setState({ display: \"none\" })\n      : this.setState({ display: \"flex\" });\n  };\n  removeTask = (e) => {\n    if (this.props.token) {\n      fetch(`http://localhost:8080/tasks/${this.props.id}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: \"Bearer \" + this.props.token,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          user: localStorage.getItem(\"userId\"),\n          team: this.props.task.team,\n          task: this.props.id,\n          stage: this.props.task.stage,\n          i: this.props.position,\n        }),\n      })\n        .then((result) => {\n          return result.json();\n        })\n        .then((res) => {\n          if (!res.done) {\n            alert(res.message);\n          }\n        });\n    } else {\n      this.props.history.push(\"/login\");\n    }\n  };\n  render() {\n    const style = {};\n    if (this.props.location1 === \"top\") {\n      style.opacity=this.props.opacity\n      style.marginBottom = \".3vh\";\n      style.marginLeft = \".1vw\";\n      style.width = \"20vw\";\n      // style.minHeight = \"16vh\";\n      style.height = \"26%\";\n    } else {\n      style.margin = \"0 .5vh\";\n      style.width = \"20%\";\n      style.height = \"80%\";\n    }\n\n\n    return (\n      // this.props.page!==\"teamPage\"? (\n        <div\n          className=\"task-cube-user-page\"\n          id={`id-${this.props.id}+${this.props.position}`}\n          style={style}\n          index=\"yes\"\n        >\n          <div\n            className=\"task-cube-priority\"\n            onClick={(e) => this.displayModal(e)}\n            style={{ backgroundColor: this.props.task.priority }}\n          ></div>\n          <div className=\"task-title-user-page\">\n            {this.props.task.title.toUpperCase()}\n          </div>\n          <div className=\"task-cube-middle-user-page\">\n            <Link\n              id=\"link\"\n              className=\"fas fa-question\"\n              to={`/${this.props.team.title}/${this.props.task._id}`}\n            ></Link>\n            <div className=\"member-count\">\n              <div className=\"member-sign\">\n                <i className=\"fas fa-user-friends\"></i>\n              </div>\n              <div className=\"count\">{this.props.task.responders.length}</div>\n            </div>\n            <div className=\"deadline\">\n              <i className=\"fas fa-clock\"></i>\n              <div className=\"time\">\n                {this.state.deadline === \"invalid date\"\n                  ? \"\"\n                  : this.state.deadline}\n              </div>\n            </div>\n          </div>\n  \n          {this.imgRender()}\n              {this.props.user._id===this.props.userId?\n            <div\n            className=\"modal-content\"\n            style={{\n              backgroundColor: this.props.task.priority,\n              color: \"white\",\n              display: this.state.display,\n            }}\n          >\n            <span\n              onClick={(e) => this.displayModal(e)}\n              className=\"close\"\n              style={{\n                backgroundColor: this.props.task.priority,\n              }}\n            >\n              &times;\n            </span>\n            <div className=\"modal-text\">Are you sure you want to delete?</div>\n            <div\n              id=\"task-page-remove-task\"\n              onClick={(e) => this.removeTask(e)}\n              style={{ color: this.props.task.priority }}\n            >\n              -\n            </div>\n          </div>:\n          <div style={{background:\"none\"}}></div>\n          }\n        </div>\n     \n      )\n    \n  }\n}\n\n\nexport default Task;\n\n"]},"metadata":{},"sourceType":"module"}