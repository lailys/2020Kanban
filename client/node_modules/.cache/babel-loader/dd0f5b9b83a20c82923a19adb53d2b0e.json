{"ast":null,"code":"var _jsxFileName = \"/Users/lailysarvarian/a-kanban/client/src/components/LoginPage.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass LoginPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      authentication: {},\n      message: \"\"\n    };\n\n    this.renderPage = () => {\n      if (!this.props.token) {\n        if (this.props.link === \"login\") {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-page\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 13,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-page-form\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 14,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-title\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 15,\n              columnNumber: 15\n            }\n          }, \"LOGIN\"), /*#__PURE__*/React.createElement(\"form\", {\n            onSubmit: this.login,\n            className: \"login-form\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 16,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"email\",\n            type: \"email\",\n            placeholder: \"Email\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 23,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 24,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(Link, {\n            to: \"/password-Update-request\",\n            className: \"change-password\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 17\n            }\n          }, \"Forgot your password?\"), /*#__PURE__*/React.createElement(\"button\", {\n            type: \"submit\",\n            className: \"login-page-login-btn\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 17\n            }\n          }, \"LOGIN\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(Link, {\n            onClick: e => this.props.authPicker(e),\n            className: \"header-link login-page-signup-btn\",\n            id: \"signup\",\n            to: \"/signup\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 17\n            }\n          }, \"SIGNUP\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }\n          })), this.message()));\n        } else if (this.props.link === \"signup\") {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-page\",\n            style: {\n              display: `${this.props.display}`\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-page-form\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-title\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }\n          }, \"SIGNUP\"), /*#__PURE__*/React.createElement(\"form\", {\n            onSubmit: this.signup,\n            className: \"signup-form\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"name\",\n            type: \"text\",\n            placeholder: \"Name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"email\",\n            type: \"email\",\n            placeholder: \"Email\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"confirmPassword\",\n            type: \"password\",\n            placeholder: \"Confirm Password\",\n            required: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(Link, {\n            to: \"/login\",\n            className: \"have-account\",\n            id: \"login\",\n            onClick: e => this.props.authPicker(e),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }\n          }, \"Already have an account?\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"button\", {\n            type: \"submit\",\n            className: \"login-page-login-btn\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }\n          }, \"SIGNUP\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }\n          })), this.message()));\n        } else if (this.props.link === \"passwordUpdateReq\") {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-page\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-page-form\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"password-update-title\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }\n          }, \"UPDATE PASSWORD REQUEST\"), /*#__PURE__*/React.createElement(\"form\", {\n            className: \"password-update-form\",\n            onSubmit: this.requestFor,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"email\",\n            type: \"text\",\n            placeholder: \"Email\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"button\", {\n            className: \"password-update-btn\",\n            type: \"submit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }\n          }, \"SUBMIT\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(Link, {\n            to: \"/login\",\n            className: \"back-login-btn\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }\n          }, \" \", \"LOGIN\")), this.message()));\n        } else {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"login-page\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"password-update-request\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"password-update-title\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }\n          }, \"UPDATE PASSWORD\"), /*#__PURE__*/React.createElement(\"form\", {\n            className: \"password-update-form\",\n            onSubmit: this.requestSubmit,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"input\", {\n            onChange: e => this.createAcount(e),\n            id: \"confirmPassword\",\n            type: \"password\",\n            placeholder: \"Confirm Password\",\n            required: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(\"button\", {\n            className: \"password-update-btn\",\n            type: \"submit\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }\n          }, \"SUBMIT\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }\n          }), /*#__PURE__*/React.createElement(Link, {\n            to: \"/login\",\n            className: \"back-login-btn\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }\n          }, \" \", \"LOGIN\")), this.message()));\n        }\n      } else {\n        this.props.history.push(\"/\");\n      }\n    };\n\n    this.logout = e => {\n      e.preventDefault();\n      localStorage.clear();\n    };\n\n    this.createAcount = e => {\n      let authentication = Object.assign({}, this.state.authentication);\n      authentication[e.target.id] = e.target.value;\n      this.setState({\n        authentication\n      });\n    };\n\n    this.signup = e => {\n      e.preventDefault();\n      const color = `hsla(${~~(360 * Math.random())},94%,70%,.8)`;\n      fetch(`/users`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: this.state.authentication.name,\n          email: this.state.authentication.email,\n          password: this.state.authentication.password,\n          confirmPassword: this.state.authentication.confirmPassword,\n          color: color\n        })\n      }).then(result => {\n        return result.json();\n      }).then(res => {\n        if (res.user) {\n          this.props.history.push(\"/login\");\n        } else {\n          this.setState({\n            message: res.data\n          });\n        }\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      fetch(`/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: this.state.authentication.email,\n          password: this.state.authentication.password\n        })\n      }).then(result => {\n        return result.json();\n      }).then(res => {\n        if (res.err) {\n          this.setState({\n            message: res.err\n          });\n        } else {\n          this.props.authChange(res._id, res.token);\n          localStorage.setItem(\"token\", res.token);\n          localStorage.setItem(\"userId\", res._id);\n          const remainingMilliseconds = 60 * 60 * 1000;\n          const expiryDate = new Date(new Date().getTime() + remainingMilliseconds);\n          localStorage.setItem(\"expiryDate\", expiryDate.toISOString());\n          this.setAutoLogout(remainingMilliseconds);\n          this.props.history.push(\"/\");\n        }\n      });\n    };\n\n    this.setAutoLogout = milliseconds => {\n      setTimeout(() => {\n        this.logoutHandler();\n      }, milliseconds);\n    };\n\n    this.message = () => {\n      let all = [];\n\n      if (this.state.message.length > 0) {\n        this.state.message.map((each, i) => {\n          all.push( /*#__PURE__*/React.createElement(\"div\", {\n            key: i,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 18\n            }\n          }, each.msg));\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"message\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 12\n        }\n      }, \" \", all);\n    };\n\n    this.requestFor = e => {\n      e.preventDefault();\n      fetch(`/update-pass-request`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: this.state.authentication.email\n        })\n      }).then(result => {\n        return result.json();\n      }).then(res => {\n        if (!res.err) {\n          this.props.setToken(res.token);\n          this.setState({\n            message: [{\n              value: \"follow email\",\n              msg: \"please check your email\"\n            }],\n            authentication: {\n              email: \"\"\n            }\n          });\n        } else {\n          this.setState({\n            message: res.err\n          });\n        }\n      });\n    };\n\n    this.requestSubmit = e => {\n      e.preventDefault();\n      fetch(`/update-pass/${this.props.history.location.pathname.split(\"/\")[2]}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          password: this.state.authentication.password,\n          confirmPassword: this.state.authentication.confirmPassword\n        })\n      }).then(result => {\n        return result.json();\n      }).then(res => {\n        if (res.user) {\n          this.props.history.push(\"/login\");\n        } else {\n          this.setState({\n            message: res.err\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 12\n      }\n    }, this.renderPage());\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/lailysarvarian/a-kanban/client/src/components/LoginPage.js"],"names":["React","Component","Link","LoginPage","state","authentication","message","renderPage","props","token","link","login","e","createAcount","authPicker","display","signup","requestFor","requestSubmit","history","push","logout","preventDefault","localStorage","clear","Object","assign","target","id","value","setState","color","Math","random","fetch","method","headers","body","JSON","stringify","name","email","password","confirmPassword","then","result","json","res","user","data","err","authChange","_id","setItem","remainingMilliseconds","expiryDate","Date","getTime","toISOString","setAutoLogout","milliseconds","setTimeout","logoutHandler","all","length","map","each","i","msg","setToken","location","pathname","split","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass LoginPage extends Component {\n  state = {\n    authentication: {},\n    message: \"\",\n  };\n  renderPage = () => {\n    if (!this.props.token) {\n      if (this.props.link === \"login\") {\n        return (\n          <div className=\"login-page\">\n            <div className=\"login-page-form\">\n              <div className=\"login-title\">LOGIN</div>\n              <form onSubmit={this.login} className=\"login-form\">\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"Email\"\n                />\n                <br />\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />\n                <Link to=\"/password-Update-request\" className=\"change-password\">\n                  Forgot your password?\n                </Link>\n                <button type=\"submit\" className=\"login-page-login-btn\">\n                  LOGIN\n                </button>\n                <br />\n                <Link\n                  onClick={(e) => this.props.authPicker(e)}\n                  className=\"header-link login-page-signup-btn\"\n                  id=\"signup\"\n                  to=\"/signup\"\n                >\n                  SIGNUP\n                </Link>\n                <br />\n                <br />\n                <br />\n                <br />\n              </form>\n              {this.message()}\n            </div>\n          </div>\n        );\n      } else if (this.props.link === \"signup\") {\n        return (\n          <div\n            className=\"login-page\"\n            style={{ display: `${this.props.display}` }}\n          >\n            <div className=\"login-page-form\">\n              <div className=\"login-title\">SIGNUP</div>\n              <form onSubmit={this.signup} className=\"signup-form\">\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"name\"\n                  type=\"text\"\n                  placeholder=\"Name\"\n                />\n                <br />\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"Email\"\n                />\n                <br />\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />\n                <br />\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  placeholder=\"Confirm Password\"\n                  required\n                />\n                <Link\n                  to=\"/login\"\n                  className=\"have-account\"\n                  id=\"login\"\n                  onClick={(e) => this.props.authPicker(e)}\n                >\n                  Already have an account?\n                </Link>\n                <br />\n                <button type=\"submit\" className=\"login-page-login-btn\">\n                  SIGNUP\n                </button>\n                <br />\n                <br />\n              </form>\n              {this.message()}\n            </div>\n          </div>\n        );\n      } else if (this.props.link === \"passwordUpdateReq\") {\n        return (\n          <div className=\"login-page\">\n            <div className=\"login-page-form\">\n              <div className=\"password-update-title\">\n                UPDATE PASSWORD REQUEST\n              </div>\n              <form className=\"password-update-form\" onSubmit={this.requestFor}>\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"email\"\n                  type=\"text\"\n                  placeholder=\"Email\"\n                />\n                <br />\n                <br />\n                <br />\n                <button className=\"password-update-btn\" type=\"submit\">\n                  SUBMIT\n                </button>\n                <br />\n                <Link to=\"/login\" className=\"back-login-btn\">\n                  {\" \"}\n                  LOGIN\n                </Link>\n              </form>\n              {this.message()}\n            </div>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"login-page\">\n            <div className=\"password-update-request\">\n              <div className=\"password-update-title\">UPDATE PASSWORD</div>\n              <form\n                className=\"password-update-form\"\n                onSubmit={this.requestSubmit}\n              >\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                />\n                <br />\n                <input\n                  onChange={(e) => this.createAcount(e)}\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  placeholder=\"Confirm Password\"\n                  required\n                />\n                <br />\n                <br />\n                <br />\n                <button className=\"password-update-btn\" type=\"submit\">\n                  SUBMIT\n                </button>\n                <br />\n                <Link to=\"/login\" className=\"back-login-btn\">\n                  {\" \"}\n                  LOGIN\n                </Link>\n              </form>\n              {this.message()}\n            </div>\n          </div>\n        );\n      }\n    } else {\n      this.props.history.push(\"/\");\n    }\n  };\n  logout = (e) => {\n    e.preventDefault();\n    localStorage.clear();\n  };\n  createAcount = (e) => {\n    let authentication = Object.assign({}, this.state.authentication);\n    authentication[e.target.id] = e.target.value;\n    this.setState({ authentication });\n  };\n  signup = (e) => {\n    e.preventDefault();\n    const color = `hsla(${~~(360 * Math.random())},94%,70%,.8)`;\n    fetch(`/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: this.state.authentication.name,\n        email: this.state.authentication.email,\n        password: this.state.authentication.password,\n        confirmPassword: this.state.authentication.confirmPassword,\n        color: color,\n      }),\n    })\n      .then((result) => {\n        return result.json();\n      })\n      .then((res) => {\n        if (res.user) {\n          this.props.history.push(\"/login\");\n        } else {\n          this.setState({ message: res.data });\n        }\n      });\n  };\n  login = (e) => {\n    e.preventDefault();\n    fetch(`/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: this.state.authentication.email,\n        password: this.state.authentication.password,\n      }),\n    })\n      .then((result) => {\n        return result.json();\n      })\n      .then((res) => {\n        if (res.err) {\n          this.setState({ message: res.err });\n        } else {\n          this.props.authChange(res._id, res.token);\n          localStorage.setItem(\"token\", res.token);\n          localStorage.setItem(\"userId\", res._id);\n          const remainingMilliseconds = 60 * 60 * 1000;\n          const expiryDate = new Date(\n            new Date().getTime() + remainingMilliseconds\n          );\n          localStorage.setItem(\"expiryDate\", expiryDate.toISOString());\n          this.setAutoLogout(remainingMilliseconds);\n          this.props.history.push(\"/\");\n        }\n      });\n  };\n  setAutoLogout = (milliseconds) => {\n    setTimeout(() => {\n      this.logoutHandler();\n    }, milliseconds);\n  };\n\n  message = () => {\n    let all = [];\n    if (this.state.message.length > 0) {\n      this.state.message.map((each, i) => {\n        all.push(<div key={i}>{each.msg}</div>);\n      });\n    }\n    return <div id=\"message\"> {all}</div>;\n  };\n  requestFor = (e) => {\n    e.preventDefault();\n    fetch(`/update-pass-request`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: this.state.authentication.email,\n      }),\n    })\n      .then((result) => {\n        return result.json();\n      })\n      .then((res) => {\n        if (!res.err) {\n          this.props.setToken(res.token);\n          this.setState({\n            message: [\n              { value: \"follow email\", msg: \"please check your email\" },\n            ],\n            authentication: { email: \"\" },\n          });\n        } else {\n          this.setState({ message: res.err });\n        }\n      });\n  };\n  requestSubmit = (e) => {\n    e.preventDefault();\n    fetch(\n      `/update-pass/${this.props.history.location.pathname.split(\"/\")[2]}`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          password: this.state.authentication.password,\n          confirmPassword: this.state.authentication.confirmPassword,\n        }),\n      }\n    )\n      .then((result) => {\n        return result.json();\n      })\n      .then((res) => {\n        if (res.user) {\n          this.props.history.push(\"/login\");\n        } else {\n          this.setState({ message: res.err });\n        }\n      });\n  };\n  render() {\n    return <div>{this.renderPage()}</div>;\n  }\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}