{"ast":null,"code":"import _classCallCheck from\"/Users/lailysarvarian/a-kanban/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/lailysarvarian/a-kanban/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/lailysarvarian/a-kanban/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/lailysarvarian/a-kanban/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";var TeamSwitch=/*#__PURE__*/function(_Component){_inherits(TeamSwitch,_Component);var _super=_createSuper(TeamSwitch);function TeamSwitch(){var _this;_classCallCheck(this,TeamSwitch);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={teams:[],name:\"\",display:\"none\",render:\"team\",user:\"\",task:\"\",team:\"\",teamID:\"\",userID:\"\"};_this.addTeam=function(e){_this.props.history.push(\"/\");_this.props.movePage(\"close\");if(_this.props.token){_this.props.teamPageDisplaySwitch(_this.state.display);_this.state.display===\"none\"?_this.setState({display:\"flex\"}):_this.setState({display:\"none\"});}else{_this.props.history.push(\"/login\");}};_this.submitTeam=function(e){e.preventDefault();if(_this.props.token){fetch(\"/teams\",{method:\"POST\",headers:{Authorization:\"Bearer \"+_this.props.token,\"Content-Type\":\"application/json\"},body:JSON.stringify({title:_this.state.name,color:\"red\",teamMembers:[],user:_this.props.user})}).then(function(result){return result.json();}).then(function(message){_this.props.teamPageDisplaySwitch(\"flex\");_this.setState({display:\"none\",name:\"\"});_this.redirect();});}};_this.redirect=function(){_this.props.fetchTeams();fetch(\"/teams\").then(function(res){return res.json();}).then(function(result){_this.setState({teams:result.teams});_this.props.history.push(\"/teams/\".concat(result.teams[result.teams.length-1]._id));});};_this.createTeam=function(e){_this.setState({name:e.target.value});};_this.removeTeam=function(e,teamTitle,teamId){fetch(\"/teams/\".concat(teamId),{method:\"DELETE\",body:JSON.stringify({title:teamTitle,team:teamId}),headers:{Authorization:\"Bearer \"+_this.props.token,\"Content-Type\":\"application/json\"}}).then(function(result){return result.json();}).then(function(res){if(res.msg){_this.props.history.push(\"/login\");}else{_this.props.fetchTeams();_this.props.history.push(// `/teams/${res.teams[res.teams.length - 1]._id}`\n\"/\");}});};_this.renderTeams=function(render){var all=[];if(render===\"team\"){all.push(/*#__PURE__*/React.createElement(\"div\",{key:\"team-title\",id:\"board-title\"},\"TEAMS\"));if(_this.props.teams.length>0){_this.props.teams.map(function(team,i){all.push(/*#__PURE__*/React.createElement(Link,{to:\"/teams/\".concat(team._id),key:\"link-\".concat(i),className:\"team-box\",id:\"\".concat(i,\"-team\"),style:{textDecoration:\"none\"}},/*#__PURE__*/React.createElement(\"div\",null,\" \",team.title.toUpperCase())));});}}else if(render===\"user\"){all.push(/*#__PURE__*/React.createElement(\"div\",{key:\"users-title\",id:\"board-title\"},\"USERS\"));if(_this.props.users.length>0){_this.props.users.map(function(user,i){all.push(/*#__PURE__*/React.createElement(Link,{to:\"/users/\".concat(user._id),key:\"user-link-\".concat(i),className:\"user-box\",id:\"\".concat(i,\"-user\"),style:{textDecoration:\"none\"}},/*#__PURE__*/React.createElement(\"div\",null,\" \",user.name.toUpperCase())));});}}return/*#__PURE__*/React.createElement(\"div\",{className:\"menu-cubes-container\"},all);};_this.switchTeamUser=function(e){e.preventDefault();_this.setState({display:\"none\"});_this.props.teamPageDisplaySwitch(\"flex\");if(e.target.className===\"fas fa-address-card\"){_this.props.movePage(\"open\");_this.setState({containerDisplay:\"flex\",render:\"user\",user:\"menu-btn-clicked\",team:\"\",task:\"\"});}else if(e.target.className===\"fas fa-users\"){_this.props.movePage(\"open\");_this.setState({render:\"team\",user:\"\",team:\"menu-btn-clicked\",task:\"\"});}else if(e.currentTarget.className===\"menu-sign\"){if(e.currentTarget.id===\"\"){_this.props.movePage(\"open\");_this.setState({render:\"user\",user:\"menu-btn-clicked\",team:\"\",task:\"\"});}else{_this.props.movePage(\"close\");_this.setState({user:\"\",team:\"\",task:\"\"});}}};return _this;}_createClass(TeamSwitch,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.teamDisplay===\"none\"){this.setState({display:\"none\"});}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"menu-location\",style:{display:this.props.teamDisplay}},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return _this2.addTeam(e);},className:\"fas fa-plus\",id:\"team-plus\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"expanded-menu\",style:{width:this.props.expandedWidth}},this.renderTeams(this.state.render)),/*#__PURE__*/React.createElement(\"div\",{className:\"unexpanded-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-sign\",id:this.props.menuSignId,onClick:function onClick(e){return _this2.switchTeamUser(e);}},/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"user\",id:this.state.user},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-address-card\",onClick:function onClick(e){return _this2.switchTeamUser(e);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"team\",id:this.state.team},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-users\",onClick:function onClick(e){return _this2.switchTeamUser(e);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"task\",id:this.state.task},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-tasks\"}))),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this2.submitTeam(e);},className:\"add-team-form\",style:{display:this.state.display}},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"add-team\"},\"NEW TEAM\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return _this2.createTeam(e);},className:\"name-input\",id:\"name\",type:\"text\",placeholder:\"Name\",value:this.state.name}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"add-team-btn\"},\"ADD TEAM\")));}}]);return TeamSwitch;}(Component);export default TeamSwitch;","map":{"version":3,"sources":["/Users/lailysarvarian/a-kanban/client/src/components/TeamSwitch.js"],"names":["React","Component","Link","TeamSwitch","state","teams","name","display","render","user","task","team","teamID","userID","addTeam","e","props","history","push","movePage","token","teamPageDisplaySwitch","setState","submitTeam","preventDefault","fetch","method","headers","Authorization","body","JSON","stringify","title","color","teamMembers","then","result","json","message","redirect","fetchTeams","res","length","_id","createTeam","target","value","removeTeam","teamTitle","teamId","msg","renderTeams","all","map","i","textDecoration","toUpperCase","users","switchTeamUser","className","containerDisplay","currentTarget","id","teamDisplay","width","expandedWidth","menuSignId"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass TeamSwitch extends Component {\n  state = {\n    teams: [],\n    name: \"\",\n    display: \"none\",\n    render: \"team\",\n    user: \"\",\n    task: \"\",\n    team: \"\",\n    teamID: \"\",\n    userID: \"\",\n  };\n  componentDidMount() {\n    if (this.props.teamDisplay === \"none\") {\n      this.setState({ display: \"none\" });\n    }\n  }\n  addTeam = (e) => {\n    this.props.history.push(\"/\");\n    this.props.movePage(\"close\");\n    if (this.props.token) {\n      this.props.teamPageDisplaySwitch(this.state.display);\n      this.state.display === \"none\"\n        ? this.setState({ display: \"flex\" })\n        : this.setState({ display: \"none\" });\n    } else {\n      this.props.history.push(\"/login\");\n    }\n  };\n  submitTeam = (e) => {\n    e.preventDefault();\n    if (this.props.token) {\n      fetch(\"/teams\", {\n        method: \"POST\",\n        headers: {\n          Authorization: \"Bearer \" + this.props.token,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          title: this.state.name,\n          color: \"red\",\n          teamMembers: [],\n          user: this.props.user,\n        }),\n      })\n        .then((result) => {\n          return result.json();\n        })\n        .then((message) => {\n          this.props.teamPageDisplaySwitch(\"flex\");\n          this.setState({ display: \"none\", name: \"\" });\n          this.redirect();\n        });\n    }\n  };\n  redirect = () => {\n    this.props.fetchTeams();\n    fetch(\"/teams\")\n      .then((res) => {\n        return res.json();\n      })\n      .then((result) => {\n        this.setState({ teams: result.teams });\n        this.props.history.push(\n          `/teams/${result.teams[result.teams.length - 1]._id}`\n        );\n      });\n  };\n  createTeam = (e) => {\n    this.setState({ name: e.target.value });\n  };\n  removeTeam = (e, teamTitle, teamId) => {\n    fetch(`/teams/${teamId}`, {\n      method: \"DELETE\",\n      body: JSON.stringify({\n        title: teamTitle,\n        team: teamId,\n      }),\n      headers: {\n        Authorization: \"Bearer \" + this.props.token,\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((result) => {\n        return result.json();\n      })\n      .then((res) => {\n        if (res.msg) {\n          this.props.history.push(\"/login\");\n        } else {\n          this.props.fetchTeams();\n          this.props.history.push(\n            // `/teams/${res.teams[res.teams.length - 1]._id}`\n            \"/\"\n          );\n        }\n      });\n  };\n  renderTeams = (render) => {\n    let all = [];\n    if (render === \"team\") {\n      all.push(\n        <div key=\"team-title\" id=\"board-title\">\n          TEAMS\n        </div>\n      );\n      if (this.props.teams.length > 0) {\n        this.props.teams.map((team, i) => {\n          all.push(\n            <Link\n              to={`/teams/${team._id}`}\n              key={`link-${i}`}\n              className=\"team-box\"\n              id={`${i}-team`}\n              style={{ textDecoration: \"none\" }}\n            >\n              <div> {team.title.toUpperCase()}</div>\n            </Link>\n          );\n        });\n      }\n    } else if (render === \"user\") {\n      all.push(\n        <div key=\"users-title\" id=\"board-title\">\n          USERS\n        </div>\n      );\n      if (this.props.users.length > 0) {\n        this.props.users.map((user, i) => {\n          all.push(\n            <Link\n              to={`/users/${user._id}`}\n              key={`user-link-${i}`}\n              className=\"user-box\"\n              id={`${i}-user`}\n              style={{ textDecoration: \"none\" }}\n            >\n              <div> {user.name.toUpperCase()}</div>\n            </Link>\n          );\n        });\n      }\n    }\n    return <div className=\"menu-cubes-container\">{all}</div>;\n  };\n  switchTeamUser = (e) => {\n    e.preventDefault();\n    this.setState({ display: \"none\" });\n    this.props.teamPageDisplaySwitch(\"flex\");\n    if (e.target.className === \"fas fa-address-card\") {\n      this.props.movePage(\"open\");\n      this.setState({\n        containerDisplay: \"flex\",\n        render: \"user\",\n        user: \"menu-btn-clicked\",\n        team: \"\",\n        task: \"\",\n      });\n    } else if (e.target.className === \"fas fa-users\") {\n      this.props.movePage(\"open\");\n      this.setState({\n        render: \"team\",\n        user: \"\",\n        team: \"menu-btn-clicked\",\n        task: \"\",\n      });\n    } else if (e.currentTarget.className === \"menu-sign\") {\n      if (e.currentTarget.id === \"\") {\n        this.props.movePage(\"open\");\n        this.setState({\n          render: \"user\",\n          user: \"menu-btn-clicked\",\n          team: \"\",\n          task: \"\",\n        });\n      } else {\n        this.props.movePage(\"close\");\n        this.setState({\n          user: \"\",\n          team: \"\",\n          task: \"\",\n        });\n      }\n    }\n  };\n  render() {\n    return (\n      <div id=\"menu-location\" style={{ display: this.props.teamDisplay }}>\n        <button\n          onClick={(e) => this.addTeam(e)}\n          className=\"fas fa-plus\"\n          id=\"team-plus\"\n        ></button>\n        <div\n          className=\"expanded-menu\"\n          style={{ width: this.props.expandedWidth }}\n        >\n          {this.renderTeams(this.state.render)}\n        </div>\n        <div className=\"unexpanded-menu\">\n          <div\n            className=\"menu-sign\"\n            id={this.props.menuSignId}\n            onClick={(e) => this.switchTeamUser(e)}\n          >\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n          <div className=\"user\" id={this.state.user}>\n            <i\n              className=\"fas fa-address-card\"\n              onClick={(e) => this.switchTeamUser(e)}\n            ></i>\n          </div>\n          <div className=\"team\" id={this.state.team}>\n            <i\n              className=\"fas fa-users\"\n              onClick={(e) => this.switchTeamUser(e)}\n            ></i>\n          </div>\n          <div className=\"task\" id={this.state.task}>\n            <i className=\"fas fa-tasks\"></i>\n          </div>\n        </div>\n        <form\n          onSubmit={(e) => this.submitTeam(e)}\n          className=\"add-team-form\"\n          style={{ display: this.state.display }}\n        >\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <div className=\"add-team\">NEW TEAM</div>\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <br />\n          <input\n            onChange={(e) => this.createTeam(e)}\n            className=\"name-input\"\n            id=\"name\"\n            type=\"text\"\n            placeholder=\"Name\"\n            value={this.state.name}\n          />\n          <br />\n          <br />\n          <button type=\"submit\" className=\"add-team-btn\">\n            ADD TEAM\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default TeamSwitch;\n"]},"metadata":{},"sourceType":"module"}